<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>gxHo Break-Timer ‚Äî NOAH345 üíú | Break Timer V11 PRO ‚Äî NOAH345</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://apis.google.com/js/api.js"></script>
<script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
  <div class="noah-brand">NOAH345 üíú ‚Äî gxHo Break-Timer</div>


<!-- AUTO-REDIRECT TO LOGIN IF NOT SIGNED IN -->
<script>
(function(){
  try{
    const s = JSON.parse(localStorage.getItem('breaker_settings_v1')||'{}');
    if(!s || !s.googleUser || !s.googleUser.email){
      // redirect to login page for Google-only authentication
      if(window.location.pathname.indexOf('login.html')===-1){
        window.location.replace('login.html');
      }
    }
  }catch(e){}
})();
</script>
<!-- END AUTO-REDIRECT -->
>
  <header class="topbar">
    <div class="brand">
      <h1>NOAH345</h1>
      <div class="subtitle">Break Timer ‚Äî Neon CyberUI</div>
    </div>
    <nav class="nav">
      <button id="darkToggle" class="btn ghost">‡πÇ‡∏´‡∏°‡∏î‡∏°‡∏∑‡∏î</button>
      <button id="openProfile" class="btn ghost">‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</button>
    </nav>
  </header>

  <main class="container">
    <section class="leftPanel card">
      <div class="timerHeader">
        <select id="modeSelect" class="select">
          <option value="‡∏û‡∏±‡∏Å">‡∏û‡∏±‡∏Å</option>
          <option value="‡∏ó‡∏≥‡∏á‡∏≤‡∏ô">‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</option>
        </select>
        <div class="dailyTargetWrap">‡πÄ‡∏õ‡πâ‡∏≤‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô <input id="dailyTargetInput" type="number" min="0" value="60" /> ‡∏ô‡∏≤‡∏ó‡∏µ</div>
      </div>

      <div class="timerCard timer-display">
        <div id="timerLabel" class="status">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡∏û‡∏£‡πâ‡∏≠‡∏°</div>
        <div id="timeLarge" class="time">00:00:00</div>
        <div id="timeInfo" class="info">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤</div>
        <div class="daily-progress">
          <div class="daily-progress__meta">‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏û‡∏±‡∏Å‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß: <strong id="sumTodayLarge">0</strong> ‡∏ô‡∏≤‡∏ó‡∏µ</div>
          <div class="progressWrap"><div id="sumTodayBar" class="progressBar" role="progressbar" aria-valuemin="0" aria-valuemax="100" style="width:0%"></div></div>
          <div class="daily-progress__target">‡πÄ‡∏õ‡πâ‡∏≤‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô: <strong id="dailyTargetLabel">60</strong> ‡∏ô‡∏≤‡∏ó‡∏µ</div>
        </div>
      </div>

      <div class="actions">
        <button id="startBtn" class="btn primary large">‡πÄ‡∏£‡∏¥‡πà‡∏°</button>
        <button id="pauseBtn" class="btn alt large">‡∏û‡∏±‡∏Å/Resume</button>
        <button id="endBtn" class="btn warn large">‡∏à‡∏ö</button>
      </div>

      <div class="settingsGrid">
        <label>‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏£‡∏≠‡∏ö (‡∏ô‡∏≤‡∏ó‡∏µ)
          <input id="limitMinutes" type="number" min="1" value="30" />
        </label>
        <label>‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏Å‡πà‡∏≠‡∏ô (‡∏ô‡∏≤‡∏ó‡∏µ)
          <input id="warnBefore" type="number" min="0" value="5" />
        </label>
        <label>‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
          <input id="soundToggle" type="checkbox" checked />
        </label>
      </div>

      <div class="notes">
        <button id="manualToggle" class="btn ghost">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏ö‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á</button>
        <div id="manualForm" class="manual hidden">
          <input id="manualType" placeholder="‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó (‡πÄ‡∏ä‡πà‡∏ô ‡∏û‡∏±‡∏Å‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô)" />
          <input id="manualStart" type="datetime-local" />
          <input id="manualEnd" type="datetime-local" />
          <input id="manualNote" placeholder="‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö)" />
          <div class="row">
            <button id="manualSave" class="btn primary">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
            <button id="manualCancel" class="btn ghost">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
          </div>
        </div>
      </div>
    
<div style="margin-top:8px;display:flex;gap:8px;flex-wrap:wrap;align-items:center;">
  <label style="display:flex;gap:6px;align-items:center;">
    <input type="checkbox" id="useAppDataFolder"> ‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏ô Google Drive (appDataFolder) (‡∏ã‡πà‡∏≠‡∏ô‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ)
  </label>
  <label style="display:flex;gap:6px;align-items:center;">
    <input type="checkbox" id="sharePublic"> ‡πÅ‡∏ä‡∏£‡πå‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞ (Anyone with link)
  </label>
  <label style="display:flex;gap:6px;align-items:center;">
    Auto-sync ‡∏ó‡∏∏‡∏Å 
    <input id="autoSyncMinutes" type="number" min="1" value="10" style="width:72px;margin-left:6px;"> ‡∏ô‡∏≤‡∏ó‡∏µ
  </label>
  <button id="toggleAutoSync" class="btn">Start Auto-sync</button>
</div>

</section>
  <section style="padding:12px;border-top:1px solid #eee;margin-top:12px;">
    <div style="display:flex;gap:8px;align-items:center;flex-wrap:wrap;">
      <button id="gSignInBtn" class="btn">Sign in with Google</button>
      <button id="gSignOutBtn" class="btn" style="display:none;">Sign out</button>
      <div id="gUserInfo" style="margin-left:8px;font-size:0.95rem;color:#333;"></div>
    </div>
  </section>

    <aside class="rightPanel">
      <div class="card compact">
        <h3>Analytics</h3>
        <canvas id="chartDaily"></canvas>
        <div class="summary small">
‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: <strong id="sumRemainBarText">0</strong> ‡∏ô‡∏≤‡∏ó‡∏µ
          ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ: <strong id="sumToday">0</strong> ‡∏ô‡∏≤‡∏ó‡∏µ &nbsp;|&nbsp;
          ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå: <strong id="sumWeek">0</strong> ‡∏ô‡∏≤‡∏ó‡∏µ &nbsp;|&nbsp;
          ‡∏£‡∏ß‡∏°: <strong id="sumAll">0</strong> ‡∏ô‡∏≤‡∏ó‡∏µ
        </div>
      </div>

      <div class="card compact">
        <h3>‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô & Telegram</h3>
        <label>Bot Token: <input id="tgToken" placeholder="123456:ABC" /></label>
        <label>Chat ID: <input id="tgChatId" placeholder="987654321" /></label>
        <label>Proxy URL (optional): <input id="proxyUrl" placeholder="https://your-proxy.example.com/send" /></label>
        <div class="row small">
          <label><input type="checkbox" id="sendStartNotif" checked /> ‡∏™‡πà‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏¥‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°</label>
          <label><input type="checkbox" id="sendNearNotif" checked /> ‡∏™‡πà‡∏á‡πÉ‡∏Å‡∏•‡πâ‡∏´‡∏°‡∏î</label>
          <label><input type="checkbox" id="sendEndNotif" checked /> ‡∏™‡πà‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏¥‡∏≠‡∏à‡∏ö</label>
        </div>
        <div class="row">
          <button id="testTg" class="btn primary">‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡πà‡∏á</button>
          <button id="clearTg" class="btn ghost">‡∏•‡πâ‡∏≤‡∏á</button>
        </div>
        <div id="tgResult" class="small debug"></div>
      </div>

      <div class="card compact">
        <h3>History</h3>
        <div class="filters">
          <input type="date" id="filterStart" />
          <input type="date" id="filterEnd" />
          <button id="applyFilter" class="btn ghost">‡∏Å‡∏£‡∏≠‡∏á</button>
        </div>
        <div class="logs"><table id="logsTable"><thead><tr><th>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</th><th>‡πÄ‡∏£‡∏¥‡πà‡∏°</th><th>‡∏à‡∏ö</th><th>‡∏ô‡∏≤‡∏ó‡∏µ</th></tr></thead><tbody></tbody></table></div>
        <div class="row">
          <button id="exportCsv" class="btn ghost">Export CSV</button>
          <button id="clearAll" class="btn danger">‡∏•‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
        </div>
      </div>

      <div class="card compact small">
        <div>‡πÇ‡∏Æ‡∏™‡∏ï‡πå‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå: ‡∏ô‡πâ‡∏≠‡∏á‡πÅ‡∏ô‡∏ö proxy Node.js ‡πÉ‡∏´‡πâ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (‡∏î‡∏π README)</div>
        <div class="small">‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ô server (localhost) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ Notification ‡πÅ‡∏•‡∏∞ Telegram ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</div>
      </div>
    </aside>
  
  <section class="settings-row" style="padding:12px;border-top:1px solid #eee;margin-top:12px;">
    <div style="display:flex;gap:8px;flex-wrap:wrap;">
      <button id="saveSettingsBtn" class="btn">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</button>
      <button id="sendSummaryTg" class="btn">‡∏™‡πà‡∏á‡∏™‡∏£‡∏∏‡∏õ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ (Telegram)</button>
      <button id="exportXlsx" class="btn">Export Excel (.xlsx)</button>
      <button id="exportImage" class="btn">Export ‡∏£‡∏π‡∏õ (PNG)</button>
    </div>
  </section>


<div style="margin-top:12px;border-top:1px dashed #eee;padding-top:12px;">
  <label style="display:flex;gap:8px;align-items:center;">
    PIN/Password (‡πÉ‡∏ä‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™‡∏Å‡πà‡∏≠‡∏ô‡∏™‡πà‡∏á Gist): <input id="pinInput" type="password" placeholder="‡∏ï‡∏±‡πâ‡∏á PIN ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏´‡∏±‡∏™" style="width:160px;margin-left:6px">
  </label>
  <div style="margin-top:8px;display:flex;gap:8px;align-items:center;flex-wrap:wrap;">
    <button id="setPinBtn" class="btn">‡∏ï‡∏±‡πâ‡∏á PIN</button>
    <button id="clearPinBtn" class="btn ghost">‡∏•‡∏ö PIN ‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</button>
    <button id="createAnonGist" class="btn">‡∏™‡∏£‡πâ‡∏≤‡∏á Gist ‡πÄ‡∏õ‡∏•‡πà‡∏≤ (Anonymous)</button>
    <input id="anonGistId" placeholder="Gist ID (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)" style="width:220px;padding:6px;border-radius:6px;border:1px solid #ddd">
    <button id="saveEncryptedGist" class="btn">Save (encrypt) ‚Üí Gist</button>
    <button id="loadEncryptedGist" class="btn">Load (decrypt) ‚Üê Gist</button>
  </div>
<div style="margin-top:10px;display:flex;gap:8px;align-items:center;flex-wrap:wrap;">
  <button id="genRecoveryCode" class="btn">‡∏™‡∏£‡πâ‡∏≤‡∏á Recovery Code (‡πÅ‡∏ä‡∏£‡πå)</button>
  <input id="recoveryCodeOutput" style="width:360px;padding:6px;border-radius:6px;border:1px solid #ddd" placeholder="Recovery code ‡∏à‡∏∞‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà">
  <button id="useRecoveryCodeBtn" class="btn ghost">‡πÉ‡∏ä‡πâ Recovery Code</button>
</div>

  <div id="pinInfo" style="margin-top:8px;color:#666;font-size:13px;"></div>
</div>

</main>

  <footer class="footer small">NOAH345 üíú ‚Äî V11 PRO ‚Ä¢ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï UI ‡πÅ‡∏•‡∏∞‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÉ‡∏´‡πâ‡πÇ‡∏Æ‡∏™‡∏ï‡πå‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå‡πÑ‡∏î‡πâ</footer>

<script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
<script src="app.js"></script>

  <div style="max-width:980px;margin:18px auto 36px;text-align:center;color:var(--noah-muted);font-size:13px;">‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏ß‡∏•‡∏≤ gxHo Break-Timer ‚Äî ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÇ‡∏î‡∏¢ NOAH345 üíú</div>
</body>
</html>
